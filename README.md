# telegram bot StockParser
#### Участники:`Айдарцян Гриша, Гордиенко Артем, Полтораднев Кирилл`
#### Группа:`ФТ-202-1`
## Лирическое отступление
Каждый задумывается об оптимизации своих доходов. Этот тренд вызвал активный интерес к фондовым рынкам. Существует множество различных сервисов для управления собственным капиталом, изучения техник инвестирования и спекуляций. Мы тоже хотим понять, как работают фондовые рынки и что с чем взаимосвязанно. 

Допустим мы прочитали книги известных финанстистов и хотим инвестировать нашу стипендию в акции. Первый и главный совет известных инвесторов - подойдите к акциям с умом, изучите рынок и только после этого покупайте ценные бумаги. Следить за акциями через бесплатные сайты веб-версий с компьютера удобно, но это уже прошлый век. Мы постоянно онлайн с мобильного устройства и постоянно чатимся с кем-нибудь или читаем сатьи.

## Проблема проекта
Мы решили создать Телеграмм бота, способного отслеживать цены на выбранные нами бумаги. Такой подход позволит нам понять стоит ли формировать наш инвестиционный портфель из этих ценных бумаг или нет. А для некоторых, полезная утилита сможет стать надежным инструментом для долгосрочного инвестирования

Уточним, наша программа будет является оберткой публичных биржевых парсинг-платформ

### Функционал бота
* Выбор парсера биржи
* Добавление тикера
* Удаление тикера
* Обновление информации по выбранному тикеру
* Обновление информации о всех тикерах
* Выставить время ежедневного обновления информации о тикерах

### Взаимодействие с пользователем
1. Пользвателель находит StokParser bot
2. Бот на выбор пердоставляются платформы для парсинга биржи
3. Пользователь самостоятельно регистрируется в системе и передает публичный API токен боту
4. Бот сохраняет все требуемые данные в БД
5. Бот предоствляет доступ к функционалу 
6. Пользователь вводит интересуемы тикеры
7. Бот синхронизирует тикеры в БД
8. Бот предоставляет информацию о тикерах

## Описание основных компонент системы
1. Слой Telegram / иного клиента
* Предоставлять функционал приложения пользователю
* Обрабатывать команды пользователя и отправлять запросы на уровень общей логики
* Обрабатывать и отображать данные, от уровня общей логики

2. Слой Общей логики

Многофункциональный слой, состоящий из множества классов.
* Обрабатывает взаимодействие пользователя и проложения
* Передает запросы в базы данных
* Формирует запросы к слою API на основе параметров пользователя
* Возращает пользователю результат его запросов

3. Слой API

Реализует взаимодействие приложения и сторонних публичных парсинг рессурсов
* Предоставляет слою общей логики унифицированный интерфейс для различных публичных парсинг платформ. 
* Формализует запросы пользователя по правилам выбранной платформы (формирует JSON структуру). 
* Передает формализированный запрос HTTP клиенту. 
* Преобразует, полученные от HTTP клиента, JSON структуры, согласно правилам формирования ответа платформой.

4. HTTP клиент
* HTTP клиент является “посредником” между внутренней логикой и парсером биржи
* HTTP клиент отправляет запросы публичным парсинг платформам, а результат передает конкретной реализации API в программном слое
* HTTP клиент имеет следующий функционал:
  * Подготовка и отправка запроса на основе сформированного URL
  * Получение и отправка параметров заголовка
  * Валидация корректности

![Iamge arch](images/atchetectrue.jpg)

## Описание точек расширения
* Вариативность использования API сервисов
  * Интерфейс `IPublicStoсkParser` имеет базовые функции, которые должен реализовывать каждый класс, обработчик стороннего публично API
* Различные базы данных
  * Интерфейс `IDataBaseHandler` реализует стандартные SQL или NOSQL (как решим) функционал для различных баз данных
* Различные клиенты (телеграмм, веб-приложение)
  * Интерфейс `IBotClient` реализует методы, для обработки команд, идентификации пользователя и т.д.
* Шифрование данных внутри БД
  * Различные алгоритмы шифрования должны иметь базовый метод. Так мы сможем через унифицированную форму запроса, сохранять данные безопасно
